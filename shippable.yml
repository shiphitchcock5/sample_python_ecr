language: python

python:
  - 3.4

env:
  global:
    - FOO=FUBU

  matrix:
    - M1=ONE


    
build:
 # pre_ci:
  #  - docker build -t=shippabledocker/hitchcock2_sample_python .
  cache: true
  cache_dir_list: 
    - $SHIPPABLE_BUILD_DIR/shippable.yml

  ci:
    - ps -eax
    - ls -al

  post_ci:
    - docker build --rm -t=480971114143.dkr.ecr.us-east-1.amazonaws.com/vidya1-repo1 .
    - docker push 480971114143.dkr.ecr.us-east-1.amazonaws.com/vidya1-repo1 

  on_success:
    - echo "build passed"
  
  on_failure:
    - echo "build failed"
    


integrations:
  hub:
    - integrationName: ship-ecr
      type: ecr
      branches:
        only:
          - master
      
